<%- include('../partials/header') %>

<div class="page-header">
  <h1>แก้ไขกิจกรรม</h1>
  <p>สำหรับทริป: <%= trip.title %> - <%= day.day_title %></p>
</div>

<div class="card">
  <div class="card-body">
    <form action="<%= baseUrl %>trips/<%= trip.id %>/activities/<%= activity.id %>/update" method="POST">
      <div class="form-group">
        <label for="title" class="form-label">ชื่อกิจกรรม *</label>
        <input type="text" id="title" name="title" class="form-control" required value="<%= activity.title %>">
      </div>
      
      <div class="form-group">
        <label for="place_id" class="form-label">สถานที่</label>
        <select id="place_id" name="place_id" class="form-control">
          <option value="">-- เลือกสถานที่ (ไม่บังคับ) --</option>
          <% places.forEach(function(place) { %>
            <option value="<%= place.id %>" <%= activity.place_id == place.id ? 'selected' : '' %>>
              <%= place.name %>
            </option>
          <% }); %>
        </select>
      </div>
      
      <div class="row">
        <div class="col-6">
          <div class="form-group">
            <label for="start_time" class="form-label">เวลาเริ่มต้น</label>
            <input type="time" id="start_time" name="start_time" class="form-control" value="<%= activity.start_time || '' %>">
          </div>
        </div>
        
        <div class="col-6">
          <div class="form-group">
            <label for="end_time" class="form-label">เวลาสิ้นสุด</label>
            <input type="time" id="end_time" name="end_time" class="form-control" value="<%= activity.end_time || '' %>">
          </div>
        </div>
      </div>
      
      <div class="form-group">
        <label for="notes" class="form-label">บันทึกเพิ่มเติม</label>
        <textarea id="notes" name="notes" class="form-control" rows="3"><%= activity.notes || '' %></textarea>
      </div>
      
      <div class="form-group">
        <button type="submit" class="btn btn-primary">บันทึกการเปลี่ยนแปลง</button>
        <a href="<%= baseUrl %>trips/<%= trip.id %>" class="btn btn-outline">ยกเลิก</a>
      </div>
    </form>
  </div>
</div>

<%- include('../partials/footer') %>